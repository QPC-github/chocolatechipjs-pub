/*
ChocolateChip.js
Copyright 2014 Sourcebits www.sourcebits.com
License: MIT
Version: 3.8.0
*/
!function(){"use strict";function t(n){for(var i=[],r=n.firstChild;r;){if(r.nodeName.match(/INPUT|SELECT|TEXTAREA/i))i.push({name:r.name,value:e(r)});else{var s=t(r);i=i.concat(s)}r=r.nextSibling}return i}function e(t){if("INPUT"===t.nodeName)if("radio"===t.type.toLowerCase()||"checkbox"===t.type.toLowerCase()){if(t.checked)return t.value}else{if("file"===t.type.toLowerCase()&&t.files.length>0)return t.files[0];if(!t.type.toLowerCase().match(/button|reset|submit|image/i))return t.value}else{if("TEXTAREA"===t.nodeName)return t.value;if("SELECT"===t.nodeName)return n(t)}return""}function n(t){var e=t.multiple;if(!e)return t.value;if(t.selectedIndex>-1){var n=[];return r("option",t).each(function(t){t.selected&&n.push(t.value)}),n}}var i=function(t){return"string"==typeof t?[]:t&&t.length&&void 0===t[0]?[]:t&&t.length?t:[]},r=function(t,e){var n=/^#([\w-]*)$/,i=/^\.([\w-]+)$/,s=/^[\w-]+$/,a=function(t){var e=document.getElementById(t.split("#")[1]);return e?[e]:[]},u=function(t,e){return[].slice.apply(e?e.getElementsByTagName(t):document.getElementsByTagName(t))},o=function(t,e){return[].slice.apply(e?e.getElementsByClassName(t.split(".")[1]):document.getElementsByClassName(t.split(".")[1]))},c=function(t,e){return"string"==typeof t&&(t=t.trim()),"string"==typeof t&&n.test(t)?a(t):t&&t instanceof Array&&t.length?t:e||"string"!=typeof t?[].slice.apply(e?e.querySelectorAll(t):document.querySelectorAll(t)):s.test(t)?u(t):i.test(t)?o(t):[].slice.apply(document.querySelectorAll(t))};if("undefined"==typeof t||t===document)return[document];if(null===t)return[];if(e){if("string"==typeof e)return[].slice.apply(document.querySelectorAll(e+" "+t));if(1===e.nodeType)return c(t,e)}else if("function"==typeof t)r.ready(function(){return t.call(t)});else{if(t&&1===t.nodeType)return[t];if("string"==typeof t){if(""===t)return[];if(/<\/?[^>]+>/.test(t))return r.make(t);try{return c(t)?c(t):[]}catch(h){return[]}}else{if(t instanceof Array)return t;if(/NodeListConstructor/i.test(t.constructor.toString()))return[].slice.apply(t);if(t===window)return[]}}return this};r.extend=function(t,e,n){return n=n||!1,e||(e=t,t=r),Object.keys(e).forEach(function(i){e.hasOwnProperty(i)&&Object.defineProperty(t,i,{value:e[i],writable:!0,enumerable:n,configurable:!0})}),this},r.extend({version:"3.8.0",libraryName:"ChocolateChip",slice:Array.prototype.slice,make:function(t){var e=[],n=document.createElement("div");return n.innerHTML=t,n=r.slice.apply(n.childNodes),n.forEach(function(t){1===t.nodeType?e.push(t):3===t.nodeType&&0!==t.nodeValue.trim().length&&e.push(t)}),e},html:function(t){return this.make(t)},replace:function(t,e){t&&e&&(t=t.length?t[0]:t,e=e.length?e[0]:e,e.parentNode.replaceChild(t,e))},require:function(t,e){e=e||r.noop;var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.onload=n.onreadystatechange=function(){n.readyState&&"complete"!==n.readyState||e.apply(e,arguments)},r("head").insert(n,"last")},processJSON:function(t,e){e=null!==e||void 0!==e?"var "+e+" = ":"var data = ";var n=document.createElement("script");n.setAttribute("type","text/javascript");var i="_"+r.uuidNum();n.setAttribute("id",i),n.html(e+t),r("head").append(n),r.defer(function(){var t="#"+i;r(t).remove()})},delay:function(t,e){t=t||r.noop,setTimeout(function(){t.call(t)},e)},defer:function(t){return t=t||r.noop,r.delay.apply(r,[t,1].concat(r.slice.call(arguments,1)))},noop:function(){},concat:function(t){return t instanceof Array?t.join(""):t instanceof Object?void 0:(t=r.slice.apply(arguments),String.prototype.concat.apply(t.join("")))},w:function(t){return t.split(" ")},isString:function(t){return"string"==typeof t},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return 0===Object.keys(t).length},isNumber:function(t){return"number"==typeof t},isInteger:function(t){return"number"==typeof t&&t%1===0},isFloat:function(t){return"number"==typeof t&&t%1!==0},uuidNum:function(){return Math.floor(4294967296*(1+Math.random()))},makeUuid:function(){return r.concat("chch_",r.uuid)},uuid:0,chch_cache:{},fn:{}}),r.fn.extend=function(t){return r.extend(Array.prototype,t)},r.uuid=r.uuidNum(),r.chch_cache.data={},r.chch_cache.events={},r.extend(r.chch_cache.events,{keys:[],values:[],set:function(t,e,n,i){var s,a,u=this.values.length>0?this.values.length-1:0;t.id?s=t.id:(++r.uuid,s=r.makeUuid(),t.setAttribute("id",s)),this.keys.indexOf(s)>=0?(this.values[u].push([]),a=this.values[u],a.push(e),a.push(n),a.push(i),t.addEventListener(e,n,i)):(this.keys.push(s),this.values.push([]),u=this.values.length-1,this.values[u].push([]),a=this.values[u],a[0].push(e),a[0].push(n),a[0].push(i),t.addEventListener(e,n,i))},hasKey:function(t){return this.keys.indexOf(t)>=0?!0:!1},_delete:function(t,e,n){var i=this,s=this.keys.indexOf(t),a=this.values;t&&("undefined"==typeof e&&(a[s].each(function(e){document.getElementById(t).removeEventListener(e[0],e[1],e[2]),r.chch_cache.events.keys.splice(s,1),a[s].splice(s,1)}),a.splice(s,1)),e&&n&&a[s].each(function(n){n[0]===e&&(document.getElementById(t).removeEventListener(n[0],n[1],n[2]),r.chch_cache.events.values.splice(s,1),r.chch_cache.events.keys.splice(s,1))}),e&&"undefined"==typeof n&&i.values[s].each(function(n){n[0]===e&&(document.getElementById(t).removeEventListener(n[0],n[1],n[2]),r.chch_cache.events.values.splice(s,1),r.chch_cache.events.keys.splice(s,1))}))}}),r.fn.extend({each:function(t,e){if(!this.length)return[];if("function"==typeof t){var n,i=this.length;for(e=arguments[1],n=0;i>n;n++)n in this&&this.hasOwnProperty(n)&&t.call(e,this[n],n,this);return this}},unique:function(){var t=[],e=this.sort();return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t.length?t:[]},eq:function(t){return this.length?(t=parseInt(t,10),this.length<t+1?[]:0>t?this[this.length+t]?[this[this.length+t]]:[]:0===t||t?[this[t]]:[]):[]},index:function(t){if(!this.length)return[];var e;return t?this.indexOf(t instanceof Array?t[0]:1===t.nodeType?t:t):(e=r(this[0]),e.parent().children().indexOf(e[0]))},is:function(t){if(!this.length||!t)return[];if(!this.length)return[];var e,n=[],i=function(t,n){if(e=this,"string"==typeof n){if([].slice.apply(t.parentNode.querySelectorAll(n)).indexOf(t)>=0)return t}else if("function"==typeof n){if(n.call(e))return t}else if(n&&n.length){if(-1!==r.slice.apply(n).indexOf(t))return t}else{if(1!==n.nodeType)return[];if(t===n)return t}};return this.each(function(e){i(e,t)&&n.push(e)}),n.length?n:[]},isnt:function(t){if(!this.length)return[];var e,n=[],i=function(t,n){if(e=this,"string"==typeof n){if(-1===[].slice.apply(t.parentNode.querySelectorAll(n)).indexOf(t))return t}else if("function"==typeof n){if(n.call(e))return t}else if(n.length){if(-1===r.slice.apply(n).indexOf(t))return t}else{if(1!==n.nodeType)return[];if(t!==n)return t}};return this.each(function(e){i(e,t)&&n.push(e)}),n.length?n:[]},has:function(t){if(!this.length)return[];var e=[],n=function(t,e){if("string"==typeof e){if(t.querySelector(e))return t}else{if(1!==e.nodeType)return!1;if(r.slice.apply(this.children).indexOf(e))return t}};return this.each(function(i){n(i,t)&&e.push(i)}),e.length?e:[]},hasnt:function(t){if(!this.length)return[];var e=[];return this.each(function(n){"string"==typeof t?n.querySelector(t)||e.push(n):1===t.nodeType&&(r.slice.apply(n.children).indexOf(t)||e.push(n))}),e.length?e:[]},find:function(t,e){var n=[];return this.length?(e?e.each(function(){r.slice.apply(e.querySelectorAll(t)).each(function(t){n.push(t)})}):this.each(function(e){r.slice.apply(e.querySelectorAll(t)).each(function(t){n.push(t)})}),n):n},css:function(t,e){if(!this.length)return[];var n=[];if(!t)return[];if(!e&&t instanceof Object){if(!this.length)return;this.each(function(e){for(var i in t)t.hasOwnProperty(i)&&(e.style[r.camelize(i)]=t[i]);n.push(e)})}else{if(!e&&"string"==typeof t){if(!this.length)return;return document.defaultView.getComputedStyle(this[0],null).getPropertyValue(t.toLowerCase())}if(e){if(!this.length)return[];this.each(function(i){i.style[r.camelize(t)]=e,n.push(i)})}}return n.length?n:[]},width:function(){return this.length?this.eq(0)[0].clientWidth:void 0},height:function(){return this.length?this.eq(0)[0].clientHeight:void 0},offset:function(){if(this.length){var t=this.eq(0)[0].getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right)}}},prependTo:function(t){return this.length?(this.reverse(),this.each(function(e){r(t)[0].insertBefore(e,r(t)[0].firstChild)}),this):[]},appendTo:function(t){return this.length?(this.each(function(e){r(t).append(e)}),this):[]},before:function(t){if(!this.length)return[];var e=function(t,e){if("string"==typeof e&&(e=r.make(e)),e&&e.constructor===Array)for(var n=e.length,i=0;n>i;)t.insertAdjacentElement("beforeBegin",e[i]),i++;else e&&1===e.nodeType&&t.insertAdjacentElement("beforeBegin",e);return t};return this.each(function(n){e(n,t)}),this},after:function(t){if(!this.length)return[];var e=function(t,e){var n=t.parentNode;if("string"==typeof e&&(e=r.make(e)),e&&e.constructor===Array)for(var i=0,s=e.length;s>i;)t===n.lastChild?n.appendChild(e[i]):n.insertBefore(e[i],t.nextSibling),i++;else e&&1===e.nodeType&&n.appendChild(e);return this};return this.each(function(n){e(n,t)}),this},text:function(t){if(!this.length)return[];var e="",n=function(t,e){return e||0===e?(t.innerText=e,t):t.innerText};return this.each(function(i){t?n(i,t):e+=n(i)}),t?this:e},insert:function(t,e){if(!this.length)return[];var n=function(t,e,n){t instanceof Array&&(t=t[0]);var i=[];"string"==typeof e?i=r.make(e):e&&1===e.nodeType?i.push(e):e instanceof Array&&(i=e);var s=0,a=i.length;if(!n||n>t.children.length+1||"last"===n)for(;a>s;)t.appendChild(i[s]),s++;else if(1===n||"first"===n){if(t.children)if(t.firstElementChild)for(;a>s;)t.insertBefore(i[s],t.firstChild),s++;else for(;a>s;)t.insertBefore(i[s],t.firstChild),s++}else for(;a>s;)t.insertBefore(i[s],t.childNodes[n]),s++;return t},i=t;return"string"==typeof i?this.each(function(i){n(i,t,e)}):i instanceof Array?this.each(function(t){(1===e||"first"===e)&&(i=i.reverse()),i.each(function(i){n(t,i,e)})}):1===i.nodeType&&this.each(function(t){n(t,i,e)}),this},html:function(t){if(!this.length)return[];var e=[],n=function(t,n){""===n?(t.innerHTML="",e.push(t)):n?(t.innerHTML=n,e.push(t)):n||(e=t.innerHTML)};return this.each(function(e){n(e,t)}),e.length?e:[]},prepend:function(t){return this.length?(this.insert(t,"first"),this):[]},append:function(t){return this.length?(this.insert(t,"last"),this):[]},attr:function(t,e){if(!this.length)return[];var n=[],i=function(t,e,n){return n?t.setAttribute(e,n):t.getAttribute(e)};if(e)this.each(function(r){i(r,t,e),n.push(r)});else if(this[0].hasAttribute(t))return this[0].getAttribute(t);return n.length?n:void 0},prop:function(t,e){return this.length?this.attr(t,e):[]},hasAttr:function(t){if(!this.length)return[];var e=[];return this.each(function(n){n.hasAttribute(t)&&e.push(n)}),i(e)},removeAttr:function(t){if(!this.length)return[];var e=[];return this.each(function(n){n.hasAttribute(t)&&(n.removeAttribute(t),e.push(n))}),i(e)},hasClass:function(t){if(!this.length)return[];var e=[],n=[];return/\s/.test(t)&&(n=t.split(" ")),this.each(function(i){n.length?(n.forEach(function(t){i&&i.classList&&i.classList.contains(t)&&e.push(i)}),e=e.unique()):i&&i.classList&&i.classList.contains(t)&&e.push(i)}),i(e)},addClass:function(t){if(!this.length)return[];if("string"==typeof t){var e,n=[];return this.each(function(i){/\s/.test(t)?(e=t.split(" "),e.each(function(t){i.classList.add(t)})):i.classList.add(t),n.push(i)}),i(n)}},removeClass:function(t){if(!this.length)return[];var e,n=[];return this.each(function(i){i&&(/\s/.test(t)?(e=t.split(" "),e.each(function(t){i.classList.remove(t)})):i.classList.remove(t),""===i.getAttribute("class")&&i.removeAttribute("class"),n.push(i))}),i(n)},toggleClass:function(t){if(!this.length)return[];var e=[];return this.each(function(n){n.classList.toggle(t),e.push(n)}),i(e)},dataset:function(t,e){if(!this.length)return[];var n=[];return"string"==typeof e&&e.length>=0?(this.each(function(i){i.dataset[t]=e,n.push(i)}),i(n)):this[0].dataset[r.camelize(t)]},val:function(t){return this.length?"string"==typeof t?(this[0].value=t,this):this[0]&&this[0].value?this[0].value:void 0:[]},disable:function(){if(!this.length)return[];var t=[];return this.each(function(t){t.classList.add("disabled"),t.setAttribute("disabled",!0),t.style.cursor="default"}),i(t)},enable:function(){if(!this.length)return[];var t=[];return this.each(function(t){t.classList.remove("disabled"),t.removeAttribute("disabled"),t.style.cursor="auto"}),i(t)},hide:function(t,e){if(!this.length)return[];var n=e||r.noop;if(!this.length)return[];{var s=[],a="",u={},o={opacity:0,height:0,padding:0};r.isWebkit?"-webkit-transition":"transition"}return this.each(function(i){u.padding=r(i).css("padding"),u.height=r(i).css("height"),u.opacity=r(i).css("opacity"),u.display=r(i).css("display"),r(i).data("ui-dimensions",u),"string"==typeof t?"slow"===t?(r(i).css({transition:"all 1s ease-out"}),r(i).css(o),setTimeout(function(){r(i).css({visibility:"hidden",display:"none"}),n.apply(i,arguments)},1e3)):"fast"===t&&(r(i).css({transition:"all .35s ease-in-out"}),r(i).css(o),setTimeout(function(){r(i).css({visibility:"hidden",display:"none"}),n.apply(i,arguments)},350)):"number"==typeof t&&(a="all "+t+"ms ease-in-out",r(i).css({transition:a}),r(i).css(o),setTimeout(function(){r(i).css({visibility:"hidden",display:"none"}),n.apply(i,arguments)},t)),e||"function"!=typeof t||(r(i).css({display:"none",visibility:"hidden"}),t.apply(i,arguments)),t||(r(i).data("",""),r(i).css({display:"none",visibility:"hidden"})),s.push(i)}),i(s)},show:function(t,e){if(!this.length)return[];{var n=e||r.noop,i=function(t,e,n){return{opacity:t,height:e,padding:n}};r.isWebkit?"-webkit-transition":"transition"}this.each(function(e){var s=r(e).data("ui-dimensions"),a=s&&s.height||"auto",u=s&&s.padding||"auto",o=s&&s.opacity||1,c=s&&s.display||"block";"string"==typeof t?"slow"===t?(r(e).css({visibility:"visible",display:c}),setTimeout(function(){r(e).css({transition:"all 1s ease-out"}),r(e).css(i(o,a,u)),setTimeout(function(){n.apply(e,arguments)},1e3)})):"fast"===t&&(r(e).css({visibility:"visible",display:c}),setTimeout(function(){r(e).css({transition:"all .250s ease-out"}),r(e).css(i(o,a,u)),setTimeout(function(){n.apply(e,arguments)},250)})):"number"==typeof t&&(r(e).css({visibility:"visible",display:c}),setTimeout(function(){r(e).css({transition:"all "+t+"ms ease-out"}),r(e).css(i(o,a,u)),setTimeout(function(){n.apply(e,arguments)},t)})),t||r(e).css({display:c,visibility:"visible",opacity:o})})},prev:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.previousElementSibling&&t.push(e.previousElementSibling)}),t},next:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.nextElementSibling&&t.push(e.nextElementSibling)}),t},first:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.firstElementChild&&t.push(e.firstElementChild)}),t},last:function(){if(!this.length)return[];var t=[];return this.each(function(e){e.lastElementChild&&t.push(e.lastElementChild)}),t},children:function(t){if(!this.length)return[];var e=[];return t?this.forEach(function(n){[].slice.apply(n.children).forEach(function(n){[n].is(t)[0]&&e.push(n)})}):this.each(function(t){[].slice.apply(t.children).forEach(function(t){e.push(t)})}),e},parent:function(){if(!this.length)return[];var t=[];return this.each(function(e){t.push(e.parentNode)}),t=t.unique(),i(t)},ancestor:function(t){if(!this.length)return[];var e=[];if("undefined"==typeof t)return[];var n=this[0],i=null,s=null,a=null,u=n.parentNode;if(!u||u===document)return[];if("string"==typeof t&&t.trim(),"number"==typeof t){i=t||1;for(var o=1;i>o;o++){if("HTML"===u.nodeName)return u;null!==u&&(u=u.parentNode)}e.push(u)}else"string"==typeof t&&"."===t.substr(0,1)?(s=t.split(".")[1],u.classList.contains(s)?e.push(u):(a=r(u).ancestor(t)[0],a&&e.push(a))):"string"==typeof t&&"#"===t.substr(0,1)?(s=t.split("#")[1],u.getAttribute("id")===s?e.push(u):(a=r(u).ancestor(t)[0],a&&e.push(a))):u.tagName&&u.tagName.toLowerCase()===t?e.push(u):(a=r(u).ancestor(t)[0],a&&e.push(a));return e},closest:function(t){return this.ancestor(t)},siblings:function(t){if(!this.length)return[];var e,n=[];return t=t&&"string"==typeof t?t:!1,this.each(function(i){e=r(i).parent().children(),e.splice(e.indexOf(i),1),e.each(t?function(e){[e].is(t)[0]&&n.push(e)}:function(t){n.push(t)})}),n.length?n.unique():this},off:function(t,e,n,i){if(!this.length)return[];var s=[];return this.each(function(a){"function"!=typeof e&&e?(r(a).undelegate(e,t,n,i),s.push(a)):(r(a).unbind(t,e,n),s.push(a))}),s.length?s:this},clone:function(t){if(!this.length)return[];var e=[];return this.each(function(n){e.push(t!==!0&&t?n.cloneNode(!1):n.cloneNode(!0))}),e.length?e[0]:this},wrap:function(t){return this.length?(this.each(function(e){var n=r.make(t);n=n[0];var i=r(e).clone(!0);n.appendChild(i),e.parentNode.insertBefore(n,e.nextSibling),r(e).remove(e)}),this):[]},unwrap:function(){if(!this.length)return[];var t=null;return this.each(function(e){return e.parentNode!==t?(t=e.parentNode,"BODY"===e.parentNode.nodeName?!1:void r.replace(e,e.parentNode)):void 0}),this},remove:function(){return this.length?void this.each(function(t){r(t).unbind(),r(t).removeData(),t.parentNode.removeChild(t)}):[]},empty:function(){if(!this.length)return[];var t=[];return this.each(function(e){r(e).unbind(),e.textContent="",t.push(e)}),i(t)}}),r.extend(r,{DOMReadyList:[],executeWhenDOMReady:function(){for(var t=r.DOMReadyList.length,e=0;t>e;)r.DOMReadyList[e](),e++;r.DOMReadyList=[],document.removeEventListener("DOMContentLoaded",r.executeWhenDOMReady,!1)},ready:function(t){document.getElementsByTagName("body")[0]?t():(0===r.DOMReadyList.length&&document.addEventListener("DOMContentLoaded",r.executeWhenDOMReady,!1),r.DOMReadyList.push(t))}}),r.fn.extend({ready:function(t){return this.length?void r.ready(function(){return t.call(t)}):[]}}),r.extend(r,{camelize:function(t){return"string"==typeof t?t.replace(/\-(.)/g,function(t,e){return e.toUpperCase()}):void 0},deCamelize:function(t){return"string"==typeof t?t.replace(/([A-Z])/g,"-$1").toLowerCase():void 0},capitalize:function(t,e){if(t&&"string"==typeof t){if(e){var n=t.split(" "),i=[];return n.each(function(t){i.push(r.capitalize(t))}),i.join(" ")}return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()}}}),r.extend(r,{form2JSON:function(e,n){e="string"==typeof e?r(e)[0]:e,n=n||".";var i=t(e),s={},a={};return i.each(function(t){var e=t.value;if(""!==e)for(var i=t.name,r=i.split(n),u=s,o=0;o<r.length;o++){var c,h=r[o];if(h.indexOf("[]")>-1&&o===r.length-1)c=h.substr(0,h.indexOf("[")),u[c]||(u[c]=[]),u[c].push(e);else if(h.indexOf("[")>-1){c=h.substr(0,h.indexOf("["));var l=h.replace(/^[a-z]+\[|\]$/gi,"");a[c]||(a[c]={}),u[c]||(u[c]=[]),o===r.length-1?u[c].push(e):a[c][l]||(u[c].push({}),a[c][l]=u[c][u[c].length-1]),u=a[c][l]}else o<r.length-1?(u[h]||(u[h]={}),u=u[h]):u[h]=e}}),s},form2FormData:function(e){e="string"==typeof e?r(e)[0]:e;var n=new FormData,i=t(e);return i.each(function(t){""!==t.value&&n.append(t.name,t.value)}),n}}),r.extend(r,{ajax:function(t){var e={type:"GET",beforeSend:r.noop,success:r.noop,error:r.noop,context:null,async:!0,timeout:0};r.extend(e,t);{var n={script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",form:"application/x-www-form-urlencoded"},i=new XMLHttpRequest,s=new r.Deferred,a=e.type||"GET",u=e.async||!1,o=e.data||null;t.context||s}if(i.queryString=o,i.timeout=e.timeout?e.timeout:0,i.open(a,e.url,u),e.headers)for(var c in e.headers)e.headers.hasOwnProperty(c)&&i.setRequestHeader(c,e.headers[c]);e.dataType&&i.setRequestHeader("Content-Type",n[e.dataType]),i.handleResp=e.success;var h=function(){0===i.status&&4===i.readyState||i.status>=200&&i.status<300&&4===i.readyState||304===i.status&&4===i.readyState?e.dataType&&"json"===e.dataType?(i.handleResp(JSON.parse(i.responseText)),s.resolve(i.responseText,e.context,i)):(i.handleResp(i.responseText),s.resolve(i.responseText,e.context,i)):i.status>=400&&error&&(error(i),s.reject(i.status,e.context,i))};return u?(e.beforeSend!==r.noop&&e.beforeSend(i,e),i.onreadystatechange=h,i.send(o)):(e.beforeSend!==r.noop&&e.beforeSend(i,e),i.send(o),h()),s},get:function(t,e,n,i){return t?e?(i||(i=null),"function"!=typeof e||n?"string"==typeof e&&"function"==typeof n?r.ajax({url:t,type:"GET",data:e,success:n,dataType:i}):void 0:r.ajax({url:t,type:"GET",success:e})):r.ajax({url:t,type:"GET"}):void 0},getJSON:function(t,e,n){t&&e&&("function"!=typeof e||n?"string"==typeof e&&"function"==typeof n&&r.ajax({url:t,type:"GET",data:e,success:n,dataType:"json"}):r.ajax({url:t,type:"GET",async:!0,success:e,dataType:"json"}))},JSONP:function(t){var e={url:null,callback:r.noop,callbackType:"callback=?",timeout:null};r.extend(e,t);var n=new r.Deferred,i="fn_"+r.uuidNum(),s=document.createElement("script"),a=r("head")[0];s.setAttribute("id",i);var u=new Date;window[i]=function(t){a.removeChild(s),e.callback(t),n.resolve(t,"resolved",e),delete window[i]};var o=e.callbackType.substr(0,e.callbackType.length-1);if(s.src=e.url.replace(e.callbackType,o+i),a.appendChild(s),e.timeout){setTimeout(function(){new Date-u>0&&(n.reject("timedout",e),e.callback=r.noop)},e.timeout)}return n},post:function(t,e,n,i){t&&e&&("function"!=typeof e||i?"string"==typeof e&&"function"==typeof n?(i||(i="form"),r.ajax({url:t,type:"POST",data:e,success:n,dataType:i})):"object"==typeof e&&e.constructor===FormData&&"function"==typeof n&&r.ajax({url:t,type:"POST",data:e,success:n,dataType:null}):(i="string"==typeof n?n:"form",r.ajax({url:t,type:"POST",success:e,dataType:i})))}}),r.fn.extend({bind:function(t,e,n){return this.length?(n=n||!1,this.each(function(i){r.chch_cache.events.set(i,t,e,n)}),this):[]},unbind:function(t,e,n){if(!this.length)return[];var i;return this.each(function(s){return s.id&&r.chch_cache.events.hasKey(s.id)?(n=n||!1,i=s.getAttribute("id"),void r.chch_cache.events._delete(i,t,e,n)):this}),this},trigger:function(t){return this.length?void this.each(function(e){if(document.createEvent){var n=document.createEvent("Events");n.initEvent(t,!0,!1),e.dispatchEvent(n)}}):[]},delegate:function(t,e,n,i){return this.length?(i=i||!1,void this.each(function(s){s.addEventListener(e,function(e){var i=e.target;3===e.target.nodeType&&(i=e.target.parentNode),r(t,s).each(function(s){if(s===i)n.call(s,e);else try{var a=r(i).ancestor(t);s===a[0]&&n.call(s,e)}catch(u){}})},i)})):[]},undelegate:function(t,e,n,i){return this.length?void this.each(function(t){r(t).unbind(e,n,i)}):[]},on:function(t,e,n,i){if(!this.length)return[];!e&&/Object/gim.test(t.constructor.toString())&&this.each(function(e){for(var n in t)t.hasOwnProperty(n)&&r(e).on(n,t[n])});var s,a=[];return"string"==typeof t&&(t=t.trim(),/\s/.test(t)&&(s=t.split(" "),s.length&&this.each(function(t){s.each(function(s){"function"==typeof e?(r(t).bind(s,e,n),a.push(t)):(r(t).delegate(e,s,n,i),a.push(t))})}))),this.each(function(s){"function"==typeof e?(r(s).bind(t,e,n),a.push(s)):(r(s).delegate(e,t,n,i),a.push(s))}),a.length?a:this}}),r.extend(r,{isiPhone:/iphone/gim.test(navigator.userAgent),isiPad:/ipad/gim.test(navigator.userAgent),isiPod:/ipod/gim.test(navigator.userAgent),isiOS:/ip(hone|od|ad)/gim.test(navigator.userAgent),isAndroid:/android/gim.test(navigator.userAgent)&&!/trident/gim.test(navigator.userAgent),isWebOS:/webos/gim.test(navigator.userAgent),isBlackberry:/blackberry/gim.test(navigator.userAgent),isTouchEnabled:"createTouch"in document,isOnline:navigator.onLine,isStandalone:navigator.standalone,isiOS6:navigator.userAgent.match(/OS 6/i),isiOS7:navigator.userAgent.match(/OS 7/i),isWin:/trident/gim.test(navigator.userAgent),isWinPhone:/trident/gim.test(navigator.userAgent)&&/mobile/gim.test(navigator.userAgent),isIE10:navigator.userAgent.match(/msie 10/i),isIE11:navigator.userAgent.match(/msie 11/i),isWebkit:navigator.userAgent.match(/webkit/),isMobile:/mobile/gim.test(navigator.userAgent),isDesktop:!/mobile/gim.test(navigator.userAgent),isSafari:!/Chrome/gim.test(navigator.userAgent)&&/Safari/gim.test(navigator.userAgent)&&!/android/gim.test(navigator.userAgent),isChrome:/Chrome/gim.test(navigator.userAgent),isNativeAndroid:/android/i.test(navigator.userAgent)&&/webkit/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)}),r.extend(r,{templates:{},template:function(t,e){var n,i,r;e=e?e:"data",n=/\[\[=([\s\S]+?)\]\]/g,i="[[",r="]]";var s=new Function(e,"var p=[];p.push('"+t.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(n,"',$1,'").split(i).join("');").split(r).join("p.push('")+"');return p.join('');");return s}}),r.extend(r,{subscriptions:{},subscribe:function(t,e){var n=r.uuidNum();return r.subscriptions[t]||(r.subscriptions[t]=[]),r.subscriptions[t].push({token:n,callback:e}),n},unsubscribe:function(t){setTimeout(function(){for(var e in r.subscriptions)if(r.subscriptions[e])for(var n=0,i=r.subscriptions[e].length;i>n;n++)if(r.subscriptions[e][n].token===t)return r.subscriptions[e].splice(n,1),t;return!1})},publish:function(t,e){return r.subscriptions[t]?void setTimeout(function(){for(var n=r.subscriptions[t]?r.subscriptions[t].length:0;n--;)r.subscriptions[t][n].callback(t,e);return!0}):!1}}),r.extend({Deferred:function(t){var e="pending",n=[],i=[],s=[],a=null,u={done:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var i=arguments[t],r=0;r<i.length;r++)"resolved"===e&&i[r].apply(this,a),n.push(i[r]);else"resolved"===e&&arguments[t].apply(this,a),n.push(arguments[t]);return this},fail:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var n=arguments[t],r=0;r<n.length;r++)"rejected"===e&&n[r].apply(this,a),i.push(n[r]);else"rejected"===e&&arguments[t].apply(this,a),i.push(arguments[t]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var t=0;t<arguments.length;t++)if(arguments[t])if(Array.isArray(arguments[t]))for(var n=arguments[t],i=0;i<n.length;i++)"pending"===e&&s.push(n[i]);else"pending"===e&&s.push(arguments[t]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(t){if(null===t||void 0===t)return u;for(var e in u)t[e]=u[e];return t},state:function(){return e},debug:function(){console.log("[debug]",n,i,e)},isRejected:function(){return"rejected"===e},isResolved:function(){return"resolved"===e},pipe:function(t,e){var n=function(t,e){if(r.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else e(t)};return r.Deferred(function(i){n(t,function(t){o.done("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(i.resolve,i.reject,i.notify):i.resolve(e)}:i.resolve)}),n(e,function(t){o.fail("function"==typeof t?function(){var e=t.apply(this,arguments);e&&"function"==typeof e?e.promise().then(i.resolve,i.reject,i.notify):i.reject(e)}:i.reject)})}).promise()}},o={resolveWith:function(t){if("pending"===e){e="resolved",a=arguments.length>1?arguments[1]:[];for(var i=0;i<n.length;i++)n[i].apply(t,a)}return this},rejectWith:function(t){if("pending"===e){e="rejected",a=arguments.length>1?arguments[1]:[];for(var n=0;n<i.length;n++)i[n].apply(t,a)}return this},notifyWith:function(t){if("pending"===e){a=2<=arguments.length?r.slice.call(arguments,1):[];for(var n=0;n<s.length;n++)s[n].apply(t,a)}return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},c=u.promise(o);return t&&t.apply(c,[c]),c}}),r.extend({when:function(){if(arguments.length<2){var t=arguments.length?arguments[0]:void 0;return t&&"function"==typeof t.isResolved&&"function"==typeof t.isRejected?t.promise():r.Deferred().resolve(t).promise()}return function(t){var e=r.Deferred(),n=t.length,i=0,s=[];s.length=n;for(var a=0;a<t.length;a++)!function(r){t[r].done(function(){s[r]=arguments.length<2?arguments[0]:arguments,++i===n&&e.resolve.apply(e,s)}).fail(function(){e.reject(arguments)})}(a);return e.promise()}(arguments)}}),r.fn.extend({data:function(t,e){if(!this.length)return[];var n,i=this[0];if(n=i.id,"undefined"!==t&&null!==t){if(e||0===e){var s=e;i.id?(n=i.id,r.chch_cache.data[n]?r.chch_cache.data[n][t]=s:(r.chch_cache.data[n]={},r.chch_cache.data[n][t]=s)):(++r.uuid,n=r.makeUuid(),i.setAttribute("id",n),r.chch_cache.data[n]={},r.chch_cache.data[n][t]=s)}else if(t&&n){if(!r.chch_cache.data[n])return;if(0===r.chch_cache.data[n][t])return r.chch_cache.data[n][t];if(!r.chch_cache.data[n][t])return;return r.chch_cache.data[n][t]}return this}},removeData:function(t){return this.length?void this.each(function(e){var n=e.getAttribute("id");if(n)return r.chch_cache.data[e.id]?t?(0===Object.keys(r.chch_cache.data[n]).length?delete r.chch_cache.data[n]:delete r.chch_cache.data[n][t],this):(delete r.chch_cache.data[n],this):this}):[]}}),window.$chocolatechipjs=r,"undefined"==typeof window.$&&(window.$=r)}();